<!doctype html><html lang="zh-CN"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>SixProfiler</title><script type="module" crossorigin>
var w=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var y=(e,r,s)=>new Promise((a,t)=>{var n=c=>{try{m(s.next(c))}catch(b){t(b)}},l=c=>{try{m(s.throw(c))}catch(b){t(b)}},m=c=>c.done?a(c.value):Promise.resolve(c.value).then(n,l);m((s=s.apply(e,r)).next())});var T=w(v=>{(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(t){if(t.ep)return;t.ep=!0;const n=s(t);fetch(t.href,n)}})();function k(){return new Worker("/assets/worker-b8054392.js")}const d=document.getElementById("fc1"),u=document.getElementById("fc2"),i=document.getElementById("rs1"),f=document.getElementById("rs2"),o=document.getElementById("text");if(!(d instanceof HTMLInputElement)||d.type!=="file"||!(u instanceof HTMLInputElement)||u.type!=="file"||!(i instanceof HTMLInputElement)||i.type!=="button"||!(f instanceof HTMLInputElement)||f.type!=="button"||!(o instanceof HTMLTextAreaElement))throw new Error("HTML 文件对应的不对");const I=e=>{d.disabled=!1,u.disabled=!1,o.classList.remove("blink"),e&&o.classList.add("error")},E=()=>{d.disabled=!0,u.disabled=!0,o.classList.remove("error"),o.classList.add("blink")};o.value="";const p=new k;p.addEventListener("error",e=>{o.value+="发生了错误: "+e.message+`
`});p.addEventListener("message",e=>{switch(e.data.type){case"print":o.value+=e.data.data,i.disabled=!1,f.disabled=!1;break;case"clear":o.value="",i.disabled=!0,f.disabled=!0;break;case"file":h(e.data.name,e.data.data);break;case"finish":I(e.data.error);break}});function g(e,r){e.value="",e.addEventListener("change",()=>{const s=e.files;if(s===null||s[0]===void 0){console.error("no file");return}const a=s[0],t=new FileReader;t.addEventListener("load",()=>{if(!(t.result instanceof ArrayBuffer)){console.error("");return}r(a.name,t.result)}),t.readAsArrayBuffer(a),e.value=""})}function h(e,r){const s=new Blob([r],{type:"application/x-octet-stream"}),a=URL.createObjectURL(s),t=document.createElement("a");t.href=a,t.download=e,t.click(),URL.revokeObjectURL(a)}g(d,(e,r)=>{E(),p.postMessage({type:"fc1",name:e,sb3file:r})});g(u,(e,r)=>{E(),p.postMessage({type:"fc2",name:e,sb3file:r})});let L;i.addEventListener("click",()=>y(v,null,function*(){try{clearTimeout(L),i.value="复制中……",yield navigator.clipboard.writeText(o.value),i.value="复制成功",L=setTimeout(()=>{i.value="复制结果文字"},5e3)}catch(e){i.value="复制失败",console.error(e)}}));f.addEventListener("click",()=>y(v,null,function*(){h("sixprofiler.txt",o.value)}))});export default T();

</script><style>
body{margin:0}#page{display:flex;flex-direction:column;flex-wrap:nowrap;position:relative;height:100vh;width:100vw;padding:8px;box-sizing:border-box}#page>ol{flex-grow:0;flex-shrink:0}#page>textarea{flex-grow:1;flex-shrink:1;min-height:200px}code{background-color:#d3d3d3;padding:2px 4px;border-radius:4px}@keyframes loading{0%{border-color:#000}to{border-color:#d3d3d3}}input[type=file]{margin:5px;padding:5px;border:2px solid black;transition:border .5s}input[type=file][disabled]{margin:5px;padding:5px;border-color:#a9a9a9}textarea{display:block;width:100%;resize:none;box-sizing:border-box;white-space:pre;border:3px solid black;padding:5px;transition:border .5s}textarea.error{border-color:red}textarea.blink{animation:.3s ease-in-out 0s infinite alternate loading}

</style></head><body><div id="page"><h1>SixProfiler</h1><ol><li>选择需要测试的 .sb3 文件，选择后如果一切正常，加入计时补丁的 .sb3 文件将自动保存。<br/><label>要测试的 .sb3 文件：<input id="fc1" accept=".sb3" type="file"/></label></li><li>将加入计时补丁的 .sb3 文件用你所使用的编辑器打开，点击绿旗运行。</li><li>可以多次点击绿旗运行，运行记录会持续收集。</li><li>如果运行了错误的积木，想要清除运行记录，可以按下 <code>W</code> + <code>F</code> + <code>空格</code> ，在询问中回答 <code>y</code> 重置运行记录。</li><li>运行完成后，点击停止并保存 .sb3 文件。此时保存的 .sb3 文件中包含了运行记录。</li><li>在这里打开包含了运行记录的 .sb3 文件，查看结果。<br/><label>要读取记录的 .sb3 文件：<input id="fc2" accept=".sb3" type="file"/></label> <input id="rs1" type="button" disabled="disabled" value="复制结果文字"/> <input id="rs2" type="button" disabled="disabled" value="保存结果"/></li></ol><textarea readonly="readonly" id="text" placeholder="这里将会显示结果"></textarea></div></body></html>